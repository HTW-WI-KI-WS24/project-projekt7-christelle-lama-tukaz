# openai_chat.py
import OpenAI

class OpenAIChat:
    def __init__(self, api_key):
        OpenAI.api_key = api_key

    def generate_response(self, user_input, user_role):
        role_message = f"{user_role.capitalize()}:" if user_role else "OpenAI:"
        response = OpenAI.ChatCompletion.create(
            model="gpt-3.5-turbo",
            messages=[
                {"role": "system", "content": "You are a helpful assistant."},
                {"role": "user", "content": f"{role_message} {user_input}"},
            ],
            max_tokens=150,
        )
        return response['choices'][0]['message']['content'].strip()
